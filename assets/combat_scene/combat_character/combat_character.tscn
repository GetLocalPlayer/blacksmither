[gd_scene load_steps=23 format=3 uid="uid://0aiqln2jekco"]

[ext_resource type="Script" path="res://assets/combat_scene/combat_character/combat_character.gd" id="1_uyb1w"]
[ext_resource type="PackedScene" uid="uid://b6f7wde0eg2p3" path="res://models/characters/emma/emma.tscn" id="2_n31pi"]
[ext_resource type="Texture2D" uid="uid://lk25wlfgu6y2" path="res://icon.svg" id="4_dhug6"]
[ext_resource type="Script" path="res://assets/combat_scene/combat_character/combat_ability.gd" id="7_lr64r"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7eraw"]
animation = &"damaged_impact"
use_custom_timeline = true
timeline_length = 1.19
stretch_time_scale = true
start_offset = 0.0
loop_mode = 0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_g0wk8"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f0wsf"]
animation = &"idle_kick"
play_mode = 1
use_custom_timeline = true
timeline_length = 2.0
stretch_time_scale = true
start_offset = 0.49
loop_mode = 2

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bwewy"]
animation = &"kick_impact"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4estx"]
animation = &"prep_kick"
use_custom_timeline = true
timeline_length = 1.43
stretch_time_scale = true
start_offset = 0.0
loop_mode = 0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5fb7x"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pd7em"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8jdfo"]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xgptm"]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tpwfg"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nsm6m"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_027jq"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_oghg5"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6t3n5"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_egd8y"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bvyro"]
xfade_time = 0.5
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_b075f"]
states/End/position = Vector2(863, 87)
states/Start/position = Vector2(196, 81)
states/damaged_impact/node = SubResource("AnimationNodeAnimation_7eraw")
states/damaged_impact/position = Vector2(748, 145)
states/idle/node = SubResource("AnimationNodeAnimation_g0wk8")
states/idle/position = Vector2(399, 81)
states/idle_kick/node = SubResource("AnimationNodeAnimation_f0wsf")
states/idle_kick/position = Vector2(671, -32)
states/kick_impact/node = SubResource("AnimationNodeAnimation_bwewy")
states/kick_impact/position = Vector2(833, -2)
states/prep_kick/node = SubResource("AnimationNodeAnimation_4estx")
states/prep_kick/position = Vector2(467, -32)
states/run/node = SubResource("AnimationNodeAnimation_5fb7x")
states/run/position = Vector2(436, 222)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_pd7em"), "idle", "run", SubResource("AnimationNodeStateMachineTransition_8jdfo"), "run", "idle", SubResource("AnimationNodeStateMachineTransition_xgptm"), "kick_impact", "idle", SubResource("AnimationNodeStateMachineTransition_tpwfg"), "idle", "prep_kick", SubResource("AnimationNodeStateMachineTransition_nsm6m"), "prep_kick", "idle_kick", SubResource("AnimationNodeStateMachineTransition_027jq"), "idle_kick", "kick_impact", SubResource("AnimationNodeStateMachineTransition_oghg5"), "idle_kick", "idle", SubResource("AnimationNodeStateMachineTransition_6t3n5"), "idle", "damaged_impact", SubResource("AnimationNodeStateMachineTransition_egd8y"), "damaged_impact", "idle", SubResource("AnimationNodeStateMachineTransition_bvyro")]
graph_offset = Vector2(90, -131)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_byb5w"]
height = 1.89118
radius = 0.345411

[node name="CombatCharacter" type="Node3D"]
script = ExtResource("1_uyb1w")

[node name="Model" parent="." instance=ExtResource("2_n31pi")]

[node name="AnimationTree" type="AnimationTree" parent="Model"]
tree_root = SubResource("AnimationNodeStateMachine_b075f")
anim_player = NodePath("../AnimationPlayer")

[node name="Clicker" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Clicker"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0510902, 0.961214, -0.140369)
shape = SubResource("CylinderShape3D_byb5w")

[node name="Abilities" type="Node" parent="."]

[node name="Attack" type="Node" parent="Abilities"]
script = ExtResource("7_lr64r")
icon = ExtResource("4_dhug6")
damage = 20.0
heal = 100.955
idle_animation = "idle_kick"
impact_animation = "kick_impact"
